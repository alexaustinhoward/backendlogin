(this.webpackJsonpmessageappfrontend=this.webpackJsonpmessageappfrontend||[]).push([[0],{151:function(e,t,a){e.exports=a(290)},156:function(e,t,a){},157:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},158:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),o=a.n(s),l=(a(156),a(53)),c=a.n(l),u=a(67),i=a(50),m=(a(157),a(158),a(293)),p=(a(88),a(55)),d=a.n(p),g=a(129),h=a(130),b=a(150),f=a(147),E=(a(175),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).state={},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"LandingPage"},r.a.createElement("div",{className:"WelcomeMessage-1"},"Connecting with People"),r.a.createElement("div",{className:"WelcomeMessage-2"},"made brilliant"))}}]),a}(n.Component)),v=(a(176),a(292)),k=a(291),y=a(294),w=a(102),j=Object(n.createContext)(null),O=a(26);function x(){var e=Object(O.e)(),t=Object(n.useState)(),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(),m=Object(i.a)(l,2),p=m[0],g=m[1],h=Object(n.useState)(),b=Object(i.a)(h,2),f=b[0],E=b[1],x=Object(n.useState)(),I=Object(i.a)(x,2),P=I[0],C=I[1],S=Object(n.useState)(),q=Object(i.a)(S,2),L=q[0],D=q[1],N=Object(n.useState)(),F=Object(i.a)(N,2),M=F[0],R=F[1],T=Object(n.useContext)(j).setUserData,W=v.a.TabPane,U={labelCol:{span:8},wrapperCol:{span:8}},V={wrapperCol:{offset:8,span:12}},A=function(){var t=Object(u.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={email:s,password:f,passwordcheck:P,username:p,firstname:L,lastname:M},t.next=4,d.a.post("http://localhost:8081/users/signup",a);case 4:return e.push("/"),t.next=7,d.a.post("http://localhost:8081/users/sendcom/",{email:s,username:p});case 7:t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(u.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={email:s,password:f},t.next=4,d.a.post("http://localhost:8081/users/login",a);case 4:n=t.sent,T({token:n.data.token,user:n.data.user}),localStorage.setItem("auth-token",n.data.token),e.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"RegisterLoginPage"},r.a.createElement("div",{className:"SRspace"},r.a.createElement(v.a,{theme:"dark",defaultActiveKey:"1"},r.a.createElement(W,{tab:"Login",key:"1"},r.a.createElement(k.a,Object.assign({},U,{name:"basic",initialValues:{remember:!0},onFinish:B}),r.a.createElement(k.a.Item,{label:"email",name:"email",rules:[{type:"email"},{required:!0,message:"Please input your email!"}]},r.a.createElement(y.a,{onChange:function(e){return o(e.target.value)}})),r.a.createElement(k.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(y.a.Password,{onChange:function(e){return E(e.target.value)}})),r.a.createElement(k.a.Item,V,r.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Submit")))),r.a.createElement(W,{tab:"Register",key:"2"},r.a.createElement(k.a,Object.assign({},U,{name:"basic",initialValues:{remember:!0},onFinish:A}),r.a.createElement(k.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(y.a,{onChange:function(e){return g(e.target.value)}})),r.a.createElement(k.a.Item,{label:"Email",name:"email",rules:[{type:"email"},{required:!0,message:"Please input your email!"}]},r.a.createElement(y.a,{onChange:function(e){return o(e.target.value)}})),r.a.createElement(k.a.Item,{label:"First Name",name:"Firstrame",rules:[{required:!0,message:"Please input your  first name!"}]},r.a.createElement(y.a,{onChange:function(e){return D(e.target.value)}})),r.a.createElement(k.a.Item,{label:"Last name",name:"Lastname",rules:[{required:!0,message:"Please input your  Last name!"}]},r.a.createElement(y.a,{onChange:function(e){return R(e.target.value)}})),r.a.createElement(k.a.Item,{label:"Password",name:"password",rules:[{min:8,message:"password is  too short!"},{required:!0,message:"Please input your password!"}]},r.a.createElement(y.a.Password,{onChange:function(e){return E(e.target.value)}})),r.a.createElement(k.a.Item,{label:"PasswordCheck",name:"passwordCheck",rules:[{min:8,message:"password is  too short!"},{required:!0,message:"Please retype your password!"}]},r.a.createElement(y.a.Password,{onChange:function(e){return C(e.target.value)}})),r.a.createElement(k.a.Item,V,r.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Submit")))))))}var I=a(51),P=a(295);function C(){var e=Object(n.useState)({token:void 0,user:void 0}),t=Object(i.a)(e,2),a=t[0],s=t[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,d.a.post("http://localhost:8081/users/IsTokenValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,d.a.get("http://localhost:8081/users/",{headers:{"x-auth-token":t}});case 8:a=e.sent,s({token:t,user:a.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement(I.a,null,r.a.createElement(j.Provider,{value:{userData:a,setUserData:s}},r.a.createElement(m.a,{theme:"dark",selectedKeys:"navbar",mode:"horizontal"},r.a.createElement(m.a.Item,{key:"home",icon:r.a.createElement(P.a,null)},r.a.createElement(I.b,{to:"/",style:{textDecoration:"none"}},"Home")),a.user?r.a.createElement(m.a.Item,{key:"logout"},r.a.createElement("div",{onClick:function(){s({token:void 0,user:void 0}),localStorage.setItem("auth-token","")}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a.Item,{key:"register"},r.a.createElement(I.b,{to:"/login",style:{textDecoration:"none"}},"Register")),r.a.createElement(m.a.Item,{key:"login"},r.a.createElement(I.b,{to:"/login",style:{textDecoration:"none"}},"Login")))),r.a.createElement("div",{className:"App"},r.a.createElement(O.a,{exact:!0,path:"/",component:E}),r.a.createElement(O.a,{exact:!0,path:"/login",component:x}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[151,1,2]]]);
//# sourceMappingURL=main.71cdd42b.chunk.js.map